!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c6bc269a-ac3f-4722-bc81-b6965548218e",e._sentryDebugIdIdentifier="sentry-dbid-c6bc269a-ac3f-4722-bc81-b6965548218e")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8362,5508],{24561:function(e,t,n){"use strict";n.d(t,{H_:function(){return u},LI:function(){return a},UP:function(){return r},XP:function(){return c},iJ:function(){return l},jv:function(){return i},pb:function(){return o}}),n(14885),n(29173),n(47782);var s=n(22319),a="_1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb19i _1286nb12uu _1286nb12u6 _1286nb13a0 _1286nb13hc _1286nb18nd _1286nb187j",r="_1286nb12j6 _1286nb1296 _1286nb124c _1286nb12ec _1286nb12yi _1286nb133i _1286nb13ec _1286nb13lo _1286nb19i _1286nb12vo _1286nb12u6 _1286nb12uo _1286nb17av",c="_1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb19i _1286nb12uu _1286nb12u6 _1286nb13a0 _1286nb13hc _1286nb187d",l="_jr4qwv5 _1286nb18nd _1286nb17qa",i="_1286nb13fu _1286nb13ec _1286nb187d _1286nb196",o="_jr4qwv3 _1286nb1h _1286nb1k _1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb18nd _1286nb13c6",u=(0,s.c)({defaultClassName:"_jr4qwvb _1286nb1a6 _1286nb118i",variantClassNames:{orientation:{right:"_jr4qwv9",left:"_jr4qwva"}},defaultVariants:{},compoundVariants:[]})},14239:function(e,t,n){"use strict";n.d(t,{E8:function(){return a},v7:function(){return s}}),n(14885),n(29173);var s="_1286nb15s4 _1286nb196 _1286nb18n _1286nb11b0",a="_1286nb15s4 _1286nb18n"},17187:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var s=n(97458),a=n(19974),r=n(50273),c=n(98199),l=n(24561);let i=e=>{let{popoverOrientation:t="right",children:n,isOpen:i,setIsOpen:o}=e;return(0,s.jsxs)(a.fC,{open:i,onOpenChange:e=>o(e),children:[(0,s.jsx)(a.xz,{asChild:!0,children:(0,s.jsx)("button",{className:i?l.XP:l.LI,title:"actions","data-testid":"actionButton","data-cy":"projectActions",children:(0,s.jsx)(r.J,{as:c.Z})})}),(0,s.jsx)(a.VY,{className:l.H_({orientation:t}),onOpenAutoFocus:e=>{e.preventDefault()},children:(0,s.jsx)("ul",{className:l.pb,children:n})})]})}},48267:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var s=n(97458),a=n(88711);n(14885),n(29173),n(28254);var r=(0,n(22319).c)({defaultClassName:"_6h8dks3 _1286nb12yi _1286nb133i _1286nb19i",variantClassNames:{fill:{true:"_1286nb13ec",false:"_1286nb13c6"}},defaultVariants:{},compoundVariants:[]});n(68676),n(45013);let c={Wrapper:e=>{let{isFilled:t,children:n}=e;return(0,s.jsx)("div",{className:r({fill:t}),children:n})},Body:e=>{let{Icon:t,Title:n,Description:r}=e;return(0,s.jsxs)(s.Fragment,{children:[t,(0,s.jsxs)(a.x,{display:"flex",flexDirection:"column",overflow:"hidden",children:[n,r]})]})},Title:e=>{let{name:t,onClickTitle:n}=e;return(0,s.jsx)("h3",{className:"_1286nb1h _1286nb1k _1286nb12oi _1286nb12ru _1286nb115 _1286nb1y",onClick:n,onKeyDown:e=>{"Enter"===e.key&&n&&n()},tabIndex:0,"data-cy":"projectName",children:t})},Description:e=>{let{description:t}=e;return(0,s.jsx)("p",{className:"_fw0d1v1 _1286nb12ou",children:t})},EditName:e=>{let{defaultValue:t,inputRef:n,onBlur:a,onKeyDown:r}=e;return(0,s.jsx)("input",{ref:n,className:"_1dtf3mo1 _1286nb12jc _1286nb129c _1286nb14go _1286nb14ho _1286nb14io _1286nb14jo _1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb14to _1286nb13ho _1286nb11pc",type:"text",defaultValue:t,onBlur:a,onKeyDown:r,autoFocus:!0,"data-testid":"editNameInput"})}}},57146:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var s=n(97458),a=n(14239);let r=e=>{let{children:t,onClick:n}=e;return(0,s.jsx)("span",{className:a.v7,onClick:n,children:t})}},1515:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var s=n(97458),a=n(14239);let r=e=>{let{children:t,onClick:n}=e;return(0,s.jsx)("a",{className:a.E8,onClick:n,children:t})}},91153:function(e,t,n){"use strict";n.d(t,{m:function(){return eo}});var s=n(97458),a=n(66287),r=n(71409),c=n(8156),l=n(32748),i=n(52983),o=n(17187),u=n(90783),d=n(50800);let _=(0,i.createContext)({});var b=n(62835),f=n(7616),m=n(65841),h=n(9826),p=n(23807),v=n(71052),g=n(90524);let j=(e,t)=>{let{folder:n}=(0,p.d)(),s=(0,i.useRef)(null),[a,c]=(0,i.useState)(!1),[o,u]=(0,i.useState)(!1),{openToast:d}=(0,b.x_)(),{t:_}=(0,l.$G)("error"),j=(0,f.b9)(g.K),x=(0,r.Vx)().locale,N=(0,h.Z)(),{setIsBlockedMultiSelect:w}=(0,m.q)();(0,i.useEffect)(()=>{a&&s.current&&setTimeout(()=>{s.current&&s.current.select()},1)},[a]);let R=(0,i.useCallback)(async()=>{var a;if(o||!s.current)return;t||N("renameProjects");let r=s.current.value;0!==r.trim().length&&(u(!0),(await (0,v.O)({folderReference:null!==(a=null==n?void 0:n.reference)&&void 0!==a?a:null,locale:x,name:r,reference:e})).success?j(t=>t.map(t=>t.reference===e?{...t,name:r}:t)):d({type:"danger",message:_("unknown")}),u(!1),c(!1),w(!1))},[null==n?void 0:n.reference,o,x,e,j,d,_,N,t,w]);return{inputRef:s,isRenaming:a,renameFile:R,activateRename:(0,i.useCallback)(()=>{c(!0),w(!0)},[w])}};var x=n(48267),N=n(47276),w=n(8891),R=n(87482),y=n(56276),k=n(45290),E=n(28729),C=n(50273),T=n(71059),O=n(13061),I=n(82747),S=n(29608),F=n(50977);let A=()=>(0,i.useContext)(_);var V=n(73174),M=n(24561);let U=async e=>{let t=await fetch("/api/user/files?reference=".concat(e),{method:"DELETE"});return t.ok?{success:!0}:401===t.status||403===t.status||405===t.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===t.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}};var K=n(83648),H=n(1515);let P=async e=>{let t=await fetch("/api/user/files/restore?reference=".concat(e),{method:"POST"});return t.ok?{success:!0}:401===t.status||403===t.status||405===t.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===t.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}},Z="/user/projects",$=e=>{let{openToast:t}=(0,b.x_)(),{setIsTrash:n}=(0,p.d)(),{t:a}=(0,l.$G)("error"),[r,c]=(0,f.KO)(g.K),{pathname:o,push:u}=(0,K.useRouter)(),d=(0,i.useCallback)(()=>{r.find(t=>t.reference===e)&&c(t=>t.filter(t=>t.reference!==e))},[e,c,r]),_=(0,i.useCallback)(e=>{e.preventDefault(),o===Z?n(!1):u(Z)},[o,u,n]);return{restoreFile:(0,i.useCallback)(async()=>(await P(e)).success?(t({type:"success",title:"",message:(0,s.jsx)(l.cC,{i18nKey:"projects:toast.restore",values:{type:"file"},components:{1:(0,s.jsx)(H.P,{onClick:_})}}),duration:4e3}),d(),!0):(t({type:"danger",message:a("unknown")}),!1),[e,t,_,d,a])}},D=e=>{let{restoreFile:t}=$(null!=e?e:""),[n,s]=(0,f.KO)(g.K),a=(0,i.useRef)(n.filter(t=>t.reference===e)[0]);return{deleteFile:async()=>!!(await U(e)).success&&(s(t=>t.filter(t=>t.reference!==e)),!0),undoDeleteFile:async()=>!!await t()&&!!a&&(s(e=>[a.current,...e]),!0)}};var J=n(1850);let L=J.z.object({url:J.z.string()}),z=async(e,t)=>{let n=await fetch("/api/user/files/download?reference=".concat(e),{headers:{"accept-language":t}}),s=L.parse(await n.json());return n.ok?{success:!0,data:s.url}:401===n.status||403===n.status||405===n.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===n.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}},W=e=>{let{locale:t}=(0,r.Vx)();return{donwloadFile:async()=>{let n=await z(e,t);return n.success&&window.location.assign(n.data),!1}}},B=J.z.object({url:J.z.string()}),G=async(e,t)=>{let n=await fetch("/api/user/files/edit?reference=".concat(e),{headers:{"accept-language":t}}),s=B.parse(await n.json());return n.ok?{success:!0,data:s.url}:401===n.status||403===n.status||405===n.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===n.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}},q=e=>{let{locale:t}=(0,r.Vx)();return{editFile:async()=>{let n=await G(e,t);return n.success&&window.location.assign(n.data),!1}}},X=e=>{let{onActivateRename:t,location:n,onShowMoveToFolderModal:a}=e,{reference:r}=A(),{t:c}=(0,l.$G)("projects"),i=(0,u.n)(),{deleteFile:o,undoDeleteFile:d}=D(r),_=(0,V.L)(),{editFile:b}=q(r),{donwloadFile:f}=W(r);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{className:M.iJ,children:(0,s.jsxs)("button",{className:M.UP,onClick:()=>{i({interactionType:"edit",location:n,type:"file"}),b()},"data-cy":"editOnLineAction",children:[(0,s.jsx)(C.J,{as:T.Z})," ",c("actions.edit")]})}),(0,s.jsx)("li",{className:M.iJ,children:(0,s.jsxs)("button",{className:M.UP,onClick:()=>{t(),i({interactionType:"rename",location:n,type:"file"})},"data-cy":"renameAction",children:[(0,s.jsx)(C.J,{as:S.Z})," ",c("actions.rename")]})}),"my_profile"===n&&(0,s.jsx)("li",{className:M.iJ,children:(0,s.jsxs)("button",{className:M.UP,onClick:()=>{a(!0),i({interactionType:"move_to_folder",location:"my_profile",type:"file"})},"data-cy":"moveToFolderAction",children:[(0,s.jsx)(C.J,{as:I.Z})," ",c("moveToFolderModal.title")]})}),(0,s.jsx)("li",{className:M.iJ,children:(0,s.jsxs)("button",{className:M.UP,onClick:()=>{i({interactionType:"download",location:n,type:"file"}),f()},"data-cy":"downloadAction",children:[(0,s.jsx)(C.J,{as:O.Z})," ",c("actions.download")]})}),(0,s.jsx)("span",{"aria-hidden":"true",className:M.jv}),(0,s.jsx)("li",{className:M.iJ,children:(0,s.jsxs)("button",{className:M.UP,onClick:()=>{_({deleteProject:()=>o(),undoDeleteProject:()=>d()}),i({interactionType:"delete",location:n,type:"file"})},"data-cy":"sendToTrashAction",children:[(0,s.jsx)(C.J,{as:F.Z})," ",c("actions.delete")]})})]})};var Q=n(75445);let Y=()=>{let{reference:e}=A(),{restoreFile:t}=$(null!=e?e:""),{t:n}=(0,l.$G)("projects"),a=(0,f.b9)(g.K),r=(0,i.useCallback)(async()=>{await t()&&a(t=>t.filter(t=>t.reference!==e))},[e,t,a]);return(0,s.jsx)("li",{className:M.iJ,children:(0,s.jsxs)("button",{className:M.UP,onClick:r,"data-cy":"actionRestore",children:[(0,s.jsx)(C.J,{as:Q.Z})," ",n("actions.restore")]})})};n(14885),n(29173),n(13318);let ee=J.z.object({url:J.z.string()}),et=async(e,t)=>{let n=await fetch("/api/user/files/open?reference=".concat(e),{headers:{"accept-language":t},method:"GET"}),s=ee.parse(await n.json());return n.ok?{success:!0,data:s.url}:401===n.status||403===n.status||405===n.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===n.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}},en=e=>{let{locale:t}=(0,r.Vx)();return{openFile:async()=>{let n=await et(e,t);return n.success&&window.location.assign(n.data),!1}}},es=e=>{let{children:t,type:n,refMulti:a}=e,{reference:r}=A(),{setIsBlockedMultiSelect:c,hoverFilesReferenceController:l,selectFilesReferenceController:o,selectedItemsRef:u,multiSelectController:d,selectFilesReference:_}=(0,m.q)(),b=(0,i.useCallback)(()=>{d&&d.deselectAll()},[d]),{openFile:f}=en(r);return"trash"===n?t:(0,s.jsx)("a",{onClick:()=>f(),className:"_1y5m5s11 _1286nb18n _1286nb1ac",draggable:"true",onDrag:()=>{o&&(c(!0),!_.has(r)&&(b(),o.replaceItemsReference(new Set([r])),l.replaceItemsReference(new Set([r])),a&&u.current.add(a.current)))},onDragEnd:()=>{c&&setTimeout(()=>{c(!1)},50)},children:t})},ea=e=>"designer"===e?"design":"mockup-editor"===e?"mockup":"aiImage";var er=n(88146),ec=n(56354);let el={aiImage:n(65738).Z,mockup:ec.Z,design:er.Z};n(61985);let ei=e=>{let{origin:t}=e,{t:n}=(0,l.$G)("projects"),a=ea(t),r=el[a];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.J,{as:r,className:"_5mej6y0"}),n("types.".concat(a))]})},eo=e=>{var t,n,b,f,h,p,v,g,C,T,O;let{fileUnity:I,type:S,popoverOrientation:F="right",refToObserve:A,isHome:V=!1,itemRef:M}=e,{inputRef:U,isRenaming:K,activateRename:H,renameFile:P}=j(null!==(v=I.reference)&&void 0!==v?v:"",V),{t:Z}=(0,l.$G)("projects"),[$,D]=(0,i.useState)(!1),J=(0,u.n)(),[L,z]=(0,i.useState)(!1),[W,B]=(0,i.useState)(null!==(t=I.thumbnail)&&void 0!==t&&!!t.url),G=(0,a.a)("mdMax"),q=(0,m.q)(),Q=!(q&&0===Object.keys(q).length),ee=null==q?void 0:null===(n=q.hoverFilesReference)||void 0===n?void 0:n.has(I.reference),et=null==q?void 0:null===(b=q.selectFilesReference)||void 0===b?void 0:b.has(I.reference),en=!(null==q?void 0:q.isSelectMode)&&!(null==q?void 0:q.isMultiSelecting),{locale:ea}=(0,r.Vx)(),er=(0,d.K)(I.updatedAt,ea),ec=(0,i.useCallback)(()=>{B(!1)},[]);return(0,s.jsxs)(_.Provider,{value:I,children:[(0,s.jsxs)(E.l,{isHome:V,refToObserve:A,children:[(0,s.jsxs)(w.a.Wrapper,{isHome:V,isHoverByMulti:ee,reference:I.reference,itemRef:M,children:[(0,s.jsx)(es,{type:S,refMulti:M,children:W?(0,s.jsx)(w.a.FramedImage,{alt:I.name,src:null!==(g=null===(f=I.thumbnail)||void 0===f?void 0:f.url)&&void 0!==g?g:"",width:null!==(C=null===(h=I.thumbnail)||void 0===h?void 0:h.width)&&void 0!==C?C:250,height:null!==(T=null===(p=I.thumbnail)||void 0===p?void 0:p.height)&&void 0!==T?T:250,onErrorImage:ec}):(0,s.jsx)(w.a.BrokenImage,{})}),(0,s.jsxs)(k.a,{children:[(0,s.jsx)(y.z,{}),Q&&(0,s.jsx)(R.b,{checked:et,hide:!(null==q?void 0:q.isSelectMode)&&!G,showHover:!(null==q?void 0:q.isMultiSelecting),onChange:()=>{if(!Q||!q)return;let{hoverFilesReferenceController:e,selectFilesReferenceController:t,selectedItemsRef:n}=q,{deleteItemReference:s,addItemReference:a}=e,{deleteItemReference:r,addItemReference:c}=t;et&&Q?(r(I.reference),s(I.reference),M&&n.current.delete(M.current)):(c(I.reference),a(I.reference),M&&n.current.add(M.current))}}),en&&(0,s.jsx)("div",{className:L?"_1y5m5s13 _1286nb1a6 _1286nb1bo _1286nb1k0 _1286nb196 _1286nb18t":"_1y5m5s13 _1286nb1a6 _1286nb1bo _1286nb1k0 _1286nb196 _1286nb18t _1y5m5s16",children:(0,s.jsx)(o.K,{popoverOrientation:F,isOpen:L,setIsOpen:z,children:"all"===S?(0,s.jsx)(X,{onActivateRename:()=>H(),location:V?"home":"my_profile",onShowMoveToFolderModal:e=>D(e)}):(0,s.jsx)(Y,{})})}),!(null==q?void 0:q.isMultiSelecting)&&(0,s.jsx)("div",{className:"_1y5m5s15 _1286nb12j6 _1286nb1296 _1286nb123u _1286nb12du _1286nb12yc _1286nb133c _1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb1a6 _1286nb1sc _1286nb1k0 _1286nb19i _1286nb12vo _1286nb12u6 _1286nb12uu _1286nb16w4 _1286nb12s0",children:(0,s.jsx)(ei,{origin:I.origin})})]})]}),(0,s.jsx)(x.F.Wrapper,{isFilled:!V,children:K?(0,s.jsx)(x.F.EditName,{defaultValue:I.name,inputRef:U,onBlur:()=>P(),onKeyDown:e=>{"Enter"===e.key&&P()}}):(0,s.jsx)(x.F.Body,{Title:(0,s.jsx)(x.F.Title,{name:I.name,onClickTitle:()=>{window.matchMedia(c.w5.lg).matches&&(H(),J({interactionType:"title_interaction",location:V?"home":"my_profile",type:"file"}))}}),Description:(0,s.jsx)(x.F.Description,{description:null!==(O=er.raw)&&void 0!==O?O:Z("time.".concat(er.text),{number:er.number})})})})]}),$&&(0,s.jsx)("li",{children:(0,s.jsx)(N.P,{name:I.name,reference:I.reference,onShowModal:e=>D(e),showModal:$,type:"file"})})]})}},47276:function(e,t,n){"use strict";n.d(t,{P:function(){return E}});var s=n(97458),a=n(71409),r=n(32748),c=n(52983),l=n(90783),i=n(3460),o=n(61490),u=n(60944),d=n(33620),_=n(62835),b=n(7616),f=n(74532),m=n(42451),h=n(96894),p=n(61591),v=n(84461);let g=()=>{let e=(0,b.b9)(h.g),{t}=(0,r.$G)(["projects","topNav"]),{openToast:n}=(0,_.x_)(),a=(0,c.useRef)(null),l=(0,d.V)().locale,i=(0,c.useCallback)(async e=>{let{name:t,reference:n,parentReference:s}=e;return await (0,v.$)({name:t,reference:n,parentReference:s,locale:l})},[l]),o=(0,c.useCallback)(async s=>{let{name:r,reference:c,parentReference:l}=s;if(!(await i({name:r,reference:c,parentReference:null!=l?l:null})).success){n({type:"danger",message:t("error:unknown")});return}n({type:"success",message:t("projects:toast.undoSuccess")}),e(e=>{let t=e.reduce((e,t)=>t.reference===l?[...e,{...t,totalFolders:t.totalFolders-1}]:[...e,t],[]);return[a.current,...t]})},[e,n,t,i]);return(0,c.useCallback)(async r=>{let{name:c,reference:l,parentReference:u,parentName:d}=r;(await i({name:c,reference:l,parentReference:u})).success?(e(e=>e.reduce((e,t)=>t.reference===u?[...e,{...t,totalFolders:t.totalFolders+1}]:t.reference!==l?[...e,t]:(a.current=t,e),[])),n({type:"success",message:(0,s.jsx)(p.w,{callback:()=>o({name:c,reference:l,parentReference:u}),folderName:null!=d?d:t("topNav:userMenu.projects")})})):n({type:"danger",message:t("error:unknown")})},[e,n,t,o,i])};var j=n(23807),x=n(62363),N=n(71052),w=n(90524);let R=()=>{let{locale:e}=(0,a.Vx)(),t=(0,b.b9)(w.K),n=(0,b.b9)(h.g),{openToast:l}=(0,_.x_)(),{t:i}=(0,r.$G)(["projects","error","iconEditor","topNav"]),o=(0,c.useRef)(null),u=(0,c.useCallback)(async s=>{var a,r;let{reference:c,parentReference:u,name:d}=s;if(!(await (0,N.O)({name:d,reference:c,folderReference:null!==(r=null===(a=o.current)||void 0===a?void 0:a.folderReference)&&void 0!==r?r:null,locale:e})).success){l({type:"danger",message:i("error:unknown")});return}l({type:"success",message:i("projects:toast.undoSuccess")}),n(e=>e.map(e=>e.reference===u?{...e,totalFiles:e.totalFiles-1}:e)),t(e=>[o.current,...e])},[e,t,n,l,i]);return{moveFile:(0,c.useCallback)(async a=>{let{reference:r,parentReference:c,name:d,parentName:_}=a;if(!(await (0,N.O)({name:d,reference:r,folderReference:c,locale:e})).success){l({type:"danger",message:i("error:unknown")});return}t(e=>e.reduce((e,t)=>t.reference===r?(o.current=t,e):[...e,t],[])),n(e=>e.map(e=>e.reference===c?{...e,totalFiles:e.totalFiles+1}:e)),l({type:"success",message:(0,s.jsx)(p.w,{callback:()=>u({reference:r,parentReference:c,name:d}),folderName:null!=_?_:i("topNav:userMenu.projects")})})},[e,t,n,l,i,u]),undoMoveFile:u}},y=e=>{let t=(0,b.b9)(h.g),{folder:n}=(0,j.d)(),[s,a]=(0,c.useState)([]),[l,i]=(0,c.useState)(!1),o=(0,d.V)().locale,{openToast:u}=(0,_.x_)(),{t:p}=(0,r.$G)("error"),[v,N]=(0,c.useState)(null),[w,y]=(0,c.useState)(""),[k,E]=(0,c.useState)(null),[C,T]=(0,c.useState)(null),O=s.filter(t=>(!e||t.reference!==e)&&(!!(""===w||t.name.toLowerCase().includes(w.toLowerCase()))||void 0)),[I,S]=(0,c.useState)(!1),[F,A]=(0,c.useState)(!1),[V,M]=(0,c.useState)(0),U=(0,x.j)(),[K,H]=(0,c.useState)(!0),P=g(),{moveFile:Z}=R(),$=(0,c.useCallback)(async e=>{let{folderReference:t,pageParam:n,isNewFolderFetching:s=!1}=e;if(l||!s&&!K)return;i(!0);let r=await U({isTrash:!1,page:null!=n?n:V,reference:t});N(t),r.success&&(a(e=>null!==t&&0===n?[...r.data.folders]:[...e,...r.data.folders]),M(e=>n?n+1:e+1),H(r.data.meta.pagination.currentPage<r.data.meta.pagination.lastPage)),i(!1),S(!0)},[U,K,l,V]),D=(0,c.useCallback)((e,t)=>{if(k===e){E(null);return}E(e),T(t),M(0)},[k]),J=(0,c.useCallback)(e=>async s=>{if(A(!1),l||s.trim().length<f.Qo)return;i(!0);let r=await (0,m.r)({parentReference:e,locale:o,name:s});r.success?(((null==n?void 0:n.reference)===e||(null==n?void 0:n.reference)===void 0&&null===e)&&t(e=>[r.folder,...e]),a(e=>[r.folder,...e])):u({type:"danger",message:p("unknown")}),i(!1)},[l,o,t,u,p,n]),L=(0,c.useCallback)(async e=>{l||(i(!0),await Z(e),i(!1))},[l,Z]),z=(0,c.useCallback)(async e=>{l||(i(!0),await P(e),i(!1))},[l,P]);return{createFolder:J,currentFolderListed:v,filteredFolders:O,firstLoad:I,getFolders:$,loading:l,moveFileToFolder:L,moveFolderToFolder:z,page:V,searchFilter:w,selectedFolder:k,selectFolder:D,setFolders:a,setPage:M,setSearchFilter:y,showLengthError:F,selectedName:C}};var k=n(57106);let E=e=>{let{name:t,reference:n,onShowModal:d,showModal:_,type:b}=e,{t:f}=(0,r.$G)("projects"),m=(0,a.Vx)().locale,[h,p]=(0,c.useState)(null),v=(0,l.n)(),[g,j]=(0,c.useState)(!1),[x,N]=(0,c.useState)(!0),{createFolder:w,currentFolderListed:R,filteredFolders:E,firstLoad:C,getFolders:T,loading:O,moveFileToFolder:I,moveFolderToFolder:S,page:F,selectedFolder:A,selectFolder:V,setFolders:M,setPage:U,selectedName:K}=y(n),{breadcrumb:H,setBreadcrumb:P}=(0,u.f)(),Z=(0,c.useRef)(null),$=(0,o.p)({selectedFolder:A,currentFolderListed:R});(0,c.useEffect)(()=>{C||T({folderReference:R})},[R,C,T]),(0,c.useEffect)(()=>{if(N(!0),null!==R){(0,i.W)({locale:m,reference:R}).then(e=>{e.success&&p(e.data.name)}),j(!1),N(!1);return}p(f("projects")),j(!0),N(!1)},[A,m,h,f,R]),(0,c.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&e[0].intersectionRatio>.85&&T({folderReference:R})},{threshold:.85});return Z.current&&e.observe(Z.current),()=>{e.disconnect()}},[R,T,F]);let D=(0,c.useCallback)((e,t)=>{P(n=>{if(null===t)return[{name:"Projects",reference:null}];let s=n.findIndex(e=>e.reference===t);return -1!==s&&s>1?[n[0],n[s-1],n[s]]:-1!==s?[n[0],n[s]]:[...n,{name:e,reference:t}]}),M([]),U(0),T({folderReference:t,pageParam:0,isNewFolderFetching:!0})},[T,P,M,U]),J=(0,c.useCallback)(e=>{let{type:s}=e;"file"===s?I({reference:n,parentReference:null!=A?A:R,name:t,locale:m,type:s,parentName:K}):S({reference:n,parentReference:null!=A?A:R,locale:m,name:t,type:s,parentName:K}),v({interactionType:"move_to_folder",location:"my_profile",type:s}),d(!1)},[R,m,I,S,t,n,A,v,d,K]);return(0,s.jsxs)(k.Z,{onShowModal:d,showModal:_,children:[(0,s.jsx)(k.Z.Title,{type:b,parentFolderName:h}),(0,s.jsx)(k.Z.BreadCrumbs,{elements:H,navigateToFolder:D}),(0,s.jsx)(k.Z.List,{loading:O,children:O||E.length>0?E.map((e,t)=>(0,s.jsx)(k.Z.FolderElement,{hasFolders:e.totalFolders>0,isSelected:A===e.reference,name:e.name,reference:e.reference,selectFolder:V,navigateToFolder:D,refToObserve:E.length-1===t?Z:null},e.reference)):(0,s.jsx)("span",{children:!x&&(g?f("thereIsNoFolders",{folderName:h}):f("thereIsNoFoldersInFolder",{folderName:h}))})},R),(0,s.jsx)(k.Z.CreateFolder,{createFolder:w(R)}),(0,s.jsx)(k.Z.Actions,{onMoveToFolder:()=>J({type:b}),onShowModal:d,moveIsBlock:$})]})}},57106:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var s=n(97458),a=n(98754),r=n(12455),c=n(97114),l=n(32748),i=n(52983),o=n(81801);n(14885),n(29173),n(49129);var u=n(88711),d=n(50273),_=n(48294),b=n(51837),f=n(93962),m=n.n(f),h=n(15303);n(74098);var p=(0,n(22319).c)({defaultClassName:"_1r8wggs6 _1286nb123i _1286nb128i _1286nb12di _1286nb12ii _1286nb14gi _1286nb14hi _1286nb14ii _1286nb14ji _1286nb14ki _1286nb14lu _1286nb14n6 _1286nb14oi _1286nb139o _1286nb13h0 _1286nb150g _1286nb19i _1286nb12uu _1286nb12u6",variantClassNames:{checked:{true:"_1286nb17ym",false:"_1286nb18nd"}},defaultVariants:{},compoundVariants:[]});let v=()=>{let[e,t]=(0,i.useState)(null);return{click:(0,i.useCallback)(n=>{let{reference:s,selectFolder:a}=n;null!==e&&clearTimeout(e),t(setTimeout(()=>{a(s)},200))},[e]),doubleClick:(0,i.useCallback)(t=>{let{name:n,reference:s,navigateToFolder:a}=t;null!==e&&(a(n,s),clearTimeout(e))},[e])}};n(52875);let g=e=>{let{children:t,onShowModal:n,showModal:a}=e;return(0,s.jsx)(r.u,{size:"xs",open:a,onOpenChange:n,children:t})};g.Title=e=>{let{type:t,parentFolderName:n}=e,{t:a}=(0,l.$G)("projects");return(0,s.jsxs)("div",{className:"_1286nb12yi _1286nb133i _1286nb19i _1286nb12w0",children:[(0,s.jsx)("center",{children:(0,s.jsx)("h4",{className:"_1286nb12qo",children:a("moveToFolderModal.title")})}),(0,s.jsx)("span",{children:a("moveToFolderModal.subtitle",{fileName:t,folderName:n})})]})},g.SearchFolder=e=>{let{textToFilter:t,setTextToFilter:n}=e,{t:a}=(0,l.$G)("projects");return(0,s.jsx)("input",{type:"text",placeholder:a("searchFolder"),value:t,onChange:e=>{n(e.target.value)},className:"_8l0n903 _1286nb11b6 _1286nb11pu _1286nb14gi _1286nb14hi _1286nb14ii _1286nb14ji _1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb13ec _1286nb1530 _1286nb12t0 _1286nb13ho _1286nb12jc"})},g.BreadCrumbs=e=>{let{elements:t,navigateToFolder:n}=e;return(0,s.jsx)("div",{className:"_1286nb12yi _1286nb133i _1286nb13ho _1286nb13ec _1286nb19i _1286nb11b6",children:t.map((e,t)=>(0,s.jsxs)(i.Fragment,{children:[t>0&&(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("span",{onClick:()=>n(e.name,e.reference),className:"_1286nb12rc _1286nb18n",children:e.name},e.reference)]},e.reference))})},g.List=e=>{let{children:t,loading:n}=e;return(0,s.jsxs)("div",{className:"_8l0n907 _1286nb1i _1286nb1l _1286nb13ec _1286nb19i _1286nb12w0",children:[t,n&&[0,1,2,3,4,5,6,7,8,9].map(e=>(0,s.jsx)("div",{className:"_1286nb1246 _1286nb12e6 _1286nb14ii _1286nb13ec _1286nb13hu _1286nb154c",children:(0,s.jsx)(c.O.Rect,{className:"$h-25 $w-full"})},e))]})},g.FolderElement=e=>{let{hasFolders:t,isSelected:n,name:a,reference:r,selectFolder:c,navigateToFolder:l,refToObserve:o}=e,{click:f,doubleClick:g}=v(),j=(0,i.useRef)(null),x=e=>{c(e,a)};return(0,s.jsxs)("div",{className:"_1286nb1246 _1286nb12e6 _1286nb12yi _1286nb133i _1286nb14ii _1286nb19i _1286nb12uo _1286nb12u6 _1286nb154c",ref:o,children:[(0,s.jsx)("input",{type:"checkbox",name:"".concat(a),id:"".concat(a),checked:n,"aria-label":a,className:"_1286nb190",onChange:()=>c(r,a),ref:j}),(0,s.jsx)("span",{className:p({checked:n}),"data-testid":"check-".concat(a),onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},children:(0,s.jsx)(d.J,{as:_.Z,className:"$text-white"})}),(0,s.jsxs)(u.x,{as:"label",display:"flex",alignItems:"center",flex:"1",onClick:()=>f({reference:r,selectFolder:x}),onDoubleClick:()=>g({name:a,reference:r,navigateToFolder:l}),children:[(0,s.jsx)(m(),{src:"".concat(h.p,"/projects/folder-small.webp"),alt:a,width:28,height:25}),(0,s.jsx)("span",{className:"_1r8wggs1 _1286nb11wu",children:a})]}),t&&(0,s.jsx)(d.J,{as:b.Z,onClick:()=>l(a,r)})]})},g.CreateFolder=e=>{let{createFolder:t}=e,[n,a]=(0,i.useState)(""),{t:r}=(0,l.$G)("projects");return(0,s.jsxs)("div",{className:"_1286nb11bi _1286nb11q6 _1286nb19i _1286nb13ec",children:[(0,s.jsx)("input",{type:"text",placeholder:r("createNewFolder"),className:"_176myur2 _1286nb14gi _1286nb14ii _1286nb14ji _1286nb14ou _1286nb154c _1286nb14ku _1286nb1m _1286nb13ho _1286nb12jc _1286nb13n0",value:n,onChange:e=>a(e.target.value)}),(0,s.jsx)(o.gg,{color:"white",className:"_1286nb12jc _1286nb129c _1286nb14gi _1286nb14hi _1286nb14ii _1286nb14ji _1286nb14ni _1286nb154c _1286nb14m6 _1286nb14kc _1286nb167d",onClick:()=>{t(n),a("")},size:"xs",radius:"none",children:r("newFolder")})]})},g.Actions=e=>{let{onMoveToFolder:t,onShowModal:n,moveIsBlock:r}=e,{t:c}=(0,l.$G)("projects");return(0,s.jsxs)("div",{className:"_1286nb12yo _1286nb133o _1286nb19i _1286nb12v0",children:[(0,s.jsx)(a.g,{color:"white",className:"_1286nb14gi _1286nb14hi _1286nb14ii _1286nb14ji _1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb154c _1286nb167d",size:"md",onClick:()=>n(!1),children:c("deleteModal.cancel")}),(0,s.jsx)(a.g,{size:"md",className:"_1286nb14gi _1286nb14hi _1286nb14ii _1286nb14ji _1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb154c _1286nb16w4 _1286nb16dc _1286nb17jd _1286nb187l",onClick:t,disabled:r,children:c("moveToFolderModal.move")})]})};var j=g},61490:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var s=n(23807);let a=e=>{let{selectedFolder:t,currentFolderListed:n}=e,{folder:a}=(0,s.d)(),r=(null==a?void 0:a.reference)===void 0,c=null!==t&&(null==a?void 0:a.reference)===t,l=null!==n&&(null==a?void 0:a.reference)===n;return r&&null===n&&null===t||c||l}},60944:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var s=n(52983);let a=()=>{let[e,t]=(0,s.useState)([{name:"Projects",reference:null}]);return{breadcrumb:e,setBreadcrumb:t}}},61591:function(e,t,n){"use strict";n.d(t,{w:function(){return l}});var s=n(97458),a=n(32748);let r=(0,n(22020).K)({fontSize:"base",color:"blueFreepik"}),c=e=>{let{onClick:t}=e,{t:n}=(0,a.$G)("iconEditor");return(0,s.jsx)("button",{onClick:t,className:r,children:n("undo")})},l=e=>{let{callback:t,folderName:n}=e;return(0,s.jsx)(a.cC,{i18nKey:"projects:toast.moveToFolderSuccess",values:{folderName:n},components:{undo:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(c,{onClick:t})]})}})}},87482:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var s=n(97458);n(14885),n(29173),n(92448);var a=(0,n(22319).c)({defaultClassName:"_1gopk894 _1286nb1a6 _1286nb1au _1286nb1zu _1286nb13ec _1286nb13lo _1286nb18s",variantClassNames:{hide:{true:"_1286nb190",false:"_1gopk896"},showHover:{true:"_1286nb196",false:"_1286nb190"}},defaultVariants:{},compoundVariants:[]});let r=e=>{let{hide:t,showHover:n,onChange:r,checked:c}=e;return(0,s.jsx)("div",{className:a({hide:t,showHover:n}),children:(0,s.jsx)("input",{type:"checkbox",className:"_1gopk89a _1286nb14gi _1286nb14hi _1286nb14ii _1286nb14ji _1286nb14ko _1286nb14m0 _1286nb14nc _1286nb14oo _1286nb10 _1286nb18n _1286nb1ac _1286nb18t _1286nb18nd _1286nb11au _1286nb11wo _1286nb1530",onChange:r,checked:c})})}},56276:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var s=n(97458);n(14885),n(29173),n(74688);let a=()=>(0,s.jsx)("div",{className:"_13zc9ta1 _1286nb1au _1286nb1zu _1286nb13ec _1286nb13lo _1286nb18s _1286nb196"})},45290:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var s=n(97458);n(14885),n(29173),n(56814);let a=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"_fke1jo1 _1286nb1h _1286nb1k _1286nb14ko _1286nb14m0 _1286nb14nc _1286nb14oo _1286nb1a6 _1286nb1au _1286nb1zu _1286nb13ec _1286nb13lo _1286nb18s",children:t})}},8891:function(e,t,n){"use strict";n.d(t,{a:function(){return _}});var s=n(97458),a=n(88711),r=n(50273),c=n(81774),l=n(93962),i=n.n(l),o=n(52983);n(14885),n(29173);let u=(0,o.memo)(e=>{let{src:t,alt:n,width:a,height:r,onErrorImage:c}=e;return(0,s.jsx)("div",{className:"_1286nb1246 _1286nb1296 _1286nb12e6 _1286nb12j6 _1286nb14ku _1286nb14m6 _1286nb14ni _1286nb14ou _1286nb181m _1286nb13ec _1286nb13lo _1286nb19i _1286nb12u6 _1286nb12uu",children:(0,s.jsx)(i(),{alt:n,src:t,className:"_1286nb16 _1286nb13ec _1286nb13lo",width:a,height:r,draggable:!1,onError:c,"data-testid":"fileThumbnailImage"})})});n(83347);var d=(0,n(22319).c)({defaultClassName:"_1hm45ra6 _1hm45ra2 _1hm45ra1 _1286nb18n _1286nb1ac",variantClassNames:{isHome:{true:"_1hm45ra4 _1286nb13c6",false:"_1286nb13lo"},outline:{true:"_1hm45ra9",false:"_1hm45raa"}},defaultVariants:{},compoundVariants:[]});let _={FramedImage:u,BrokenImage:()=>(0,s.jsx)(a.x,{display:"flex",justifyContent:"center",alignItems:"center",height:"full",width:"full",backgroundColor:"grayHades",draggable:!1,children:(0,s.jsx)(r.J,{as:c.Z,size:"xl","aria-label":"no image",className:"$text-grayOxford"})}),Wrapper:e=>{let{children:t,isHome:n,isHoverByMulti:a,itemRef:r,reference:c,onDragLeave:l,onDragOver:i}=e;return(0,s.jsx)("div",{className:d({isHome:n,outline:a}),ref:r,"data-id":c,onDragOver:i,onDragLeave:l,children:t})}}},28729:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var s=n(97458);n(14885),n(29173),n(24635);var a=(0,n(22319).c)({defaultClassName:"_1kv456t3 _1286nb12yi _1286nb133i _1286nb19i _1286nb12w0 _1286nb1ac",variantClassNames:{isHome:{false:"_1286nb13lo _1286nb13ec"}},defaultVariants:{},compoundVariants:[]});let r=e=>{let{isHome:t,refToObserve:n,children:r}=e;return(0,s.jsx)("div",{className:a({isHome:t}),ref:n,"data-cy":"project",children:r})}},3623:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});var s=n(62168),a=n(52983);let r=()=>{let e=(0,s.PN)();return(0,a.useCallback)(t=>{let{linkText:n,location:s}=t;e({event:"ga4event",event_name:"edit_generate",location:s,link_text:n})},[e])}},90783:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var s=n(62168),a=n(52983);let r=()=>{let e=(0,s.PN)();return(0,a.useCallback)(t=>{let{interactionType:n,location:s,type:a}=t;e({event:"ga4event",event_name:"tooltip_interaction",interaction_type:n,location:s,type:a,resource_type:"template-editor"})},[e])}},38891:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});let s=(0,n(52983).createContext)({})},50800:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});let s=(e,t)=>{let n=new Date,s=new Date(e),a=(n.getTime()-s.getTime())/1e3;if(a<60)return{text:"now"};if(a<3600){let e=Math.floor(a/60);return 1===e?{text:"minuteAgo"}:{text:"minutesAgo",number:e}}if(a<86400){let e=Math.floor(a/3600);return 1===e?{text:"hourAgo"}:{text:"hoursAgo",number:e}}if(a<172800)return{text:"yesterday"};if(a<604800)return{text:"daysAgo",number:Math.floor(a/86400)};if(a<1209600)return{text:"lastWeek"};if(a<2592e3)return{text:"weeksAgo",number:Math.floor(a/604800)};let r=s.getDate(),c=s.toLocaleString(t,{month:"long"}),l=s.getFullYear();return{raw:"".concat(c," ").concat(r,", ").concat(l)}}},74532:function(e,t,n){"use strict";n.d(t,{Mp:function(){return s},Oc:function(){return a},Qo:function(){return r}});let s="https://www.freepik.com/designer/edit",a="/user/projects",r=1},71052:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});let s=async e=>{let{folderReference:t,locale:n,name:s,reference:a}=e,r=await fetch("/api/user/files?reference=".concat(a),{method:"PUT",body:JSON.stringify({folderReference:t,locale:n,name:s})});return r.ok?{success:!0}:401===r.status||403===r.status||405===r.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===r.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}}},29689:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});var s=n(34529),a=n(52983),r=n(96894),c=n(90524);let l=()=>{let e=(0,s.oC)(c.K),t=(0,s.oC)(r.g);(0,a.useEffect)(()=>()=>{e(),t()},[e,t])}},90524:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});let s=(0,n(73139).rw)([])},42451:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});let s=async e=>{let{locale:t,name:n,parentReference:s}=e,a=await fetch("/api/user/folders",{method:"POST",body:JSON.stringify({parentReference:s,locale:t,name:n})});return a.ok?{success:!0,folder:await a.json()}:401===a.status||403===a.status||405===a.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===a.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}}},3460:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var s=n(23160);let a=async e=>{let{locale:t,reference:n}=e,a=await fetch("".concat("/api/user/folders/".concat(n)).concat((0,s.T)({locale:t})),{cache:"no-store"});return a.ok?{success:!0,data:await a.json()}:401===a.status||403===a.status||405===a.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===a.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}}},84461:function(e,t,n){"use strict";n.d(t,{$:function(){return s}});let s=async e=>{let{name:t,reference:n,parentReference:s,locale:a}=e,r=await fetch("/api/user/folders",{method:"PUT",body:JSON.stringify({locale:a,name:t,parentReference:s,reference:n})});return r.ok?{success:!0}:401===r.status||403===r.status||405===r.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===r.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}}},96894:function(e,t,n){"use strict";n.d(t,{g:function(){return s}});let s=(0,n(73139).rw)([])},73174:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var s=n(97458),a=n(62835),r=n(32748),c=n(57146);let l=()=>{let{openToast:e}=(0,a.x_)(),{t}=(0,r.$G)("projects");return async n=>{let{undoDeleteProject:a,deleteProject:l}=n,i=await l();i?e({type:"success",title:t("toast.deleteSuccessTitle"),message:(0,s.jsx)(r.cC,{i18nKey:"projects:toast.deleteSuccess",values:{type:"file"},components:{1:(0,s.jsx)(c.X,{onClick:()=>a()})}})}):!1===i&&e({type:"danger",title:t("toast.deleteError",{type:"file"}),message:""})}}},1317:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});let s=(0,n(52983).createContext)({})},65841:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var s=n(52983),a=n(1317);let r=()=>(0,s.useContext)(a.b)},9826:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var s=n(95001);let a="projectsUserActions",r=e=>{let t=localStorage.getItem(a),n=t?JSON.parse(t):[],s=parseInt(localStorage.getItem("lastSurveyTimestamp")||"",10);if(n.length>=2){let t=new Date().getTime();(!s||t-Number(s)>2592e6)&&(setTimeout(()=>{e()},800),localStorage.setItem("lastSurveyTimestamp",t.toString()),localStorage.removeItem(a))}};var c=()=>{let e=(0,s.d)();return t=>{let n=localStorage.getItem(a);if(!n){localStorage.setItem(a,JSON.stringify([t]));return}let s=JSON.parse(n)||[];s.includes(t)||(s.push(t),localStorage.setItem(a,JSON.stringify(s)),r(e))}}},23807:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var s=n(52983),a=n(38891);let r=()=>(0,s.useContext)(a.v)},95001:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var s=n(65508),a=n(52983);let r=()=>(0,a.useCallback)(()=>{(0,s.loadSpace)("bb6a004a-8f03-4d2a-88fb-a63499d4591a").then(e=>{e.init(),e.logEvent("open_unity_feedback")})},[])},62363:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var s=n(71409),a=n(23160);let r=async e=>{let{page:t,perPage:n,locale:s,reference:r}=e,c=await fetch("".concat("/api/user/folders/".concat(r,"/folders")).concat((0,a.T)({page:t,per_page:n,locale:s})),{cache:"no-store"});return c.ok?{success:!0,data:await c.json()}:401===c.status||403===c.status||405===c.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===c.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}},c=async e=>{let{page:t,perPage:n,locale:s}=e,r=await fetch("".concat("/api/user/folders").concat((0,a.T)({page:t,per_page:n,locale:s})),{cache:"no-store"});return r.ok?{success:!0,data:await r.json()}:401===r.status||403===r.status||405===r.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===r.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}},l=async e=>{let{reference:t,page:n,perPage:s,locale:r}=e,c=await fetch("".concat("/api/user/folders/trash").concat((0,a.T)({page:n,per_page:s,reference:t,locale:r})),{cache:"no-store"});return c.ok?{success:!0,data:await c.json()}:401===c.status||403===c.status||405===c.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===c.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}},i=async e=>{let{page:t,perPage:n,locale:s}=e,r=await fetch("".concat("/api/user/folders/trash").concat((0,a.T)({page:t,per_page:n,locale:s})),{cache:"no-store"});return r.ok?{success:!0,data:await r.json()}:401===r.status||403===r.status||405===r.status?{success:!1,data:"AUTHENTICATION_ERROR"}:500===r.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}},o=()=>{let e=(0,s.Vx)().locale;return async t=>{let{isTrash:n,reference:s,page:a}=t;return n&&s?await l({page:a+1,locale:e,reference:s}):n?await i({page:a+1,locale:e}):s?await r({page:a+1,locale:e,reference:s}):await c({page:a+1,locale:e})}}},23160:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});let s=e=>{let t=Object.keys(e),n="?";return 0===t.length?"":(t.forEach((t,s)=>{let a=e[t];!a||t.includes(" ")||(n="".concat(n).concat(0===s?"":"&").concat(t,"=").concat(a.toString()))}),n)}},71059:function(e,t,n){"use strict";var s=n(97458);t.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,s.jsx)("path",{d:"M492.9 11.3c-18.4-14.8-43.4-15.1-62.3-.9-40.3 30.6-87.2 74.5-132 123.8-39.8 43.7-74.1 87.3-97.9 124.2-1.2 0-2.3-.1-3.5-.1-36.4 0-67.3 14.7-92 43.7-19.4 22.7-31.5 50.5-40.4 70.7-3.8 8.6-7.3 16.7-10.2 21.5-18.7 31.2-34.6 38-36.2 38.7-9.5 2.6-16.6 10.6-18.1 20.4a25.1 25.1 0 0 0 12.2 25.4C14.9 480 71.4 512 167 512h20c33.4 0 67.5-13.1 93.6-36 28-24.6 43.4-56.8 43.4-90.8 0-8.5-.9-16.9-2.5-25C390.5 277 469 155.4 507.3 71.9c9.8-21.5 4-45.8-14.4-60.6M247.6 438.4c-17.1 15-39.2 23.6-60.6 23.6h-20c-38.3 0-69.2-5.9-91.2-12.1 7-7.9 14.3-17.7 21.7-30 4.5-7.4 8.4-16.5 13.1-27.1 20.3-46.2 40.8-84.5 86.7-84.5 42.4 0 76.8 34.5 76.8 76.8-.1 19.4-9.5 38.3-26.5 53.3m4.8-167.4c9.3-13.5 19.7-27.6 31.1-42 20.3 5 37.7 18.2 48.2 36.3-11.1 15.2-22.1 29.9-33 43.7-12.2-16-28.1-29.1-46.3-38M461.8 51c-22 48-59.2 111.1-99.8 171-12.2-14.4-27.4-26-44.6-33.8C363 135.9 415.9 84.4 460.9 50.3c.2-.1.3-.2.4-.3.3.1.6.4.7.6-.1.1-.1.3-.2.4"})})},26989:function(e,t,n){"use strict";var s=n(97458);t.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,s.jsx)("path",{d:"m256 275.6-92.3-92.3c-9.8-9.8-25.6-9.8-35.4 0s-9.8 25.6 0 35.4l110 110c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l110-110c9.8-9.8 9.8-25.6 0-35.4s-25.6-9.8-35.4 0z"})})},82747:function(e,t,n){"use strict";var s=n(97458);t.Z=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,s.jsx)("path",{d:"M299.7 198.3c-9.8-9.8-25.6-9.8-35.4 0s-9.8 25.6 0 35.4l22.3 22.3H165c-13.8 0-25 11.2-25 25s11.2 25 25 25h121.6l-22.3 22.3c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l65-65c9.8-9.8 9.8-25.6 0-35.4z"}),(0,s.jsx)("path",{d:"M437 90H208.3c-6.8-28.6-32.6-50-63.3-50H75c-35.8 0-65 29.2-65 65v302c0 35.8 29.2 65 65 65h362c35.8 0 65-29.2 65-65V155c0-35.8-29.2-65-65-65m15 317c0 8.3-6.7 15-15 15H75c-8.3 0-15-6.7-15-15V105c0-8.3 6.7-15 15-15h70c8.3 0 15 6.7 15 15v10c0 13.8 11.2 25 25 25h252c8.3 0 15 6.7 15 15z"})]})},29608:function(e,t,n){"use strict";var s=n(97458);t.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,s.jsx)("path",{d:"m418.834 199.236-14.142-14.142c-23.679-23.679-64.603-27.321-91.924 0l-42.417 42.417-.01.009-.009.01-287.138 287.138a25 25 0 0 0-7.322 17.678v70.71c0 13.807 11.193 25 25 25h70.71c6.63 0 12.989-2.634 17.678-7.322l287.147-287.146.001-.001 42.426-42.426c27.696-27.697 23.679-68.246 0-91.925M61.227 578.056H25.872v-35.355l262.147-262.147 35.355 35.355zm322.251-322.251-24.749 24.749-35.355-35.355 24.749-24.749c5.321-5.321 14.784-6.429 21.213 0l14.142 14.142c5.367 5.366 6.009 15.204 0 21.213"})})},61891:function(e,t,n){"use strict";var s=n(97458);t.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,s.jsx)("path",{d:"M413 372H232V191c0-13.807-11.193-25-25-25s-25 11.193-25 25v181H1c-13.807 0-25 11.193-25 25s11.193 25 25 25h181v181c0 13.807 11.193 25 25 25s25-11.193 25-25V422h181c13.807 0 25-11.193 25-25s-11.193-25-25-25"})})},75445:function(e,t,n){"use strict";var s=n(97458);t.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,s.jsx)("path",{d:"M413 379c-13.807 0-25 11.193-25 25 0 99.804-81.196 181-181 181S26 503.804 26 404s81.196-181 181-181c50.012 0 97.122 20.734 130.866 56H278c-13.808 0-25 11.192-25 25s11.192 25 25 25h120c13.808 0 25-11.192 25-25V184c0-13.808-11.192-25-25-25s-25 11.192-25 25v59.382C330.017 199.026 270.326 173 207 173c-61.702 0-119.712 24.028-163.342 67.658S-24 342.298-24 404 .028 523.712 43.658 567.342 145.298 635 207 635s119.712-24.028 163.342-67.658S438 465.702 438 404c0-13.807-11.193-25-25-25"})})},47782:function(){},28254:function(){},68676:function(){},45013:function(){},61985:function(){},13318:function(){},49129:function(){},74098:function(){},52875:function(){},92448:function(){},74688:function(){},56814:function(){},83347:function(){},24635:function(){},65508:function(e,t,n){"use strict";n.d(t,{loadSpace:function(){return a}});let s=new Map,a=async(e,t)=>{if(!e)throw Error("Missing api key");s.has(e)||s.set(e,new Promise(n=>{let s=`usersnapCallback_${Math.random().toString().slice(2)}`;if(e){let a=t?`&n=${t}`:"",r=`//widget.usersnap.com/global/load/${e}?onload=${s}${a}`;if(!window[s]){window[s]=e=>(delete window[s],n(e));let e=document.createElement("script");e.defer=!0,e.nonce=t,e.onerror=()=>{throw Error("Wrong api key or paused project")},e.src=r,document.head.appendChild(e)}}}));let n=await s.get(e);return{init:async e=>{await n.init(e)},logEvent:async e=>{await n.logEvent(e)},show:async e=>await n.show(e),hide:async e=>{await n.hide(e)},destroy:async()=>{await n.destroy()},on:(e,t)=>{n.on(e,t)},off:(e,t)=>{n.off(e,t)}}}}}]);